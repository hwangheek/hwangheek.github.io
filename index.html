<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:300,300italic,400,400italic,700,700italic%7CNanum+Gothic+Coding:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"hwangheek.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.11.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="ㅎㅎㅋ의 개인 연구실">
<meta property="og:type" content="website">
<meta property="og:title" content="ㅎㅎㅋ">
<meta property="og:url" content="https://hwangheek.github.io/index.html">
<meta property="og:site_name" content="ㅎㅎㅋ">
<meta property="og:description" content="ㅎㅎㅋ의 개인 연구실">
<meta property="og:locale" content="ko_KR">
<meta property="article:author" content="Hwanghee Kim">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://hwangheek.github.io/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"ko","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>ㅎㅎㅋ</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-132879183-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-132879183-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="ㅎㅎㅋ" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">ㅎㅎㅋ</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">ㅎㅎㅋ의 개인 연구실</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-홈"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>홈</a></li><li class="menu-item menu-item-아카이브"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>아카이브</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          목차
        </li>
        <li class="sidebar-nav-overview">
          흝어보기
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Hwanghee Kim</p>
  <div class="site-description" itemprop="description">ㅎㅎㅋ의 개인 연구실</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">6</span>
          <span class="site-state-item-name">포스트</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">카테고리</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">태그</span>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/hwanghee-kim-66a628154/" title="LinkedIn → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;hwanghee-kim-66a628154&#x2F;" rel="noopener" target="_blank"><i class="linkedin fa-fw"></i>LinkedIn</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hwangheek.github.io/2021/black-litterman/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hwanghee Kim">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ㅎㅎㅋ">
      <meta itemprop="description" content="ㅎㅎㅋ의 개인 연구실">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ㅎㅎㅋ">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/black-litterman/" class="post-title-link" itemprop="url">Python으로 블랙리터만 (Black-Litterman) 모델 구현하기</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">작성일</span>

      <time title="Post created: 2021-02-16 18:09:22" itemprop="dateCreated datePublished" datetime="2021-02-16T18:09:22+09:00">2021-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Updated at: 2022-07-23 23:39:52" itemprop="dateModified" datetime="2022-07-23T23:39:52+09:00">2022-07-23</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/black-litterman/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/black-litterman/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="0-Introduction"><a href="#0-Introduction" class="headerlink" title="0. Introduction"></a>0. Introduction</h1><p>금융 데이터를 이런저런 방식으로 분석해서 결과를 팀원들에게 공유하면, 반드시 나오는 중요한 질문이 하나 있습니다. 해당 결과를 어떻게 전략화 할 수 있냐는 겁니다. 분석 그 자체로써 의미있는 경우도 있지만, 결과적으로 (모델이 되었든 매니저가 되었든) 누군가는 포트폴리오 구성 및 운용 방식, 즉, 어떤 자산($X$)을 언제($t$), 얼마만큼($w$) 가지고 있어야 하는지에 대한 판단을 내려야 합니다.</p>
<p>포트폴리오 구성과 관련된 모델 중 가장 잘 알려진 이론은 <a target="_blank" rel="noopener" href="https://www.investopedia.com/terms/m/meanvariance-analysis.asp">Mean-Variance Optimization Portfolio</a>일 것입니다. 해당 모델의 로직은 논리적이고 직관적이지만, 몇 가지 문제점들이 있습니다.</p>
<ol>
<li>입력 데이터의 작은 변화에도 도출되는 포트폴리오 구성비중이 크게 변합니다.</li>
<li>몇 개의 자산에 비중이 쏠리는 코너 솔루션이 나타나는 경우가 있습니다.</li>
<li>투자자가 가지고 있는 정보를 녹여낼 수 있는 방법 없습니다. 따라서, 시장에 대한 견해가 다른 매니저일지라도 (같은 hyperparameter를 가지고 있는 경우) 같은 MVO 포트폴리오를 얻게 됩니다.</li>
</ol>
<p>위 문제점들은 실제 운용을 할 때 걸림돌이 됩니다. (ex. 높은 turnover ratio, 규제위반, 모델에 들어가지 않은 추가적인 정보 반영 불가 등) 이러한 문제점들을 해결하기 위해, 골드만삭스의 Fischer Black과 Robert Litterman이 1990년에 개발하고 1992년에 발표한 포트폴리오 최적화 방법론이 Black-Litterman Model입니다.</p>
<p>본 포스팅은 Black-Litterman Portfolio Model의 전체적인 프로세스를 이해하고, Python으로 이를 구현해보는 과정을 정리해 놓은 글입니다. 내용에 문제나 개선점이 있는 경우, 피드백을 주시면 감사하겠습니다! 😀</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/black-litterman/#more" rel="contents">
                더 읽어보기 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hwangheek.github.io/2021/neat-xingapi-with-python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hwanghee Kim">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ㅎㅎㅋ">
      <meta itemprop="description" content="ㅎㅎㅋ의 개인 연구실">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ㅎㅎㅋ">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/neat-xingapi-with-python/" class="post-title-link" itemprop="url">Python으로 이베스트증권 xingAPI 깔끔하게 사용하기 (w/ pandas)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">작성일</span>

      <time title="Post created: 2021-01-04 18:38:14" itemprop="dateCreated datePublished" datetime="2021-01-04T18:38:14+09:00">2021-01-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Updated at: 2022-07-23 23:39:52" itemprop="dateModified" datetime="2022-07-23T23:39:52+09:00">2022-07-23</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/neat-xingapi-with-python/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/neat-xingapi-with-python/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="0-Introduction"><a href="#0-Introduction" class="headerlink" title="0. Introduction"></a>0. Introduction</h1><p>이베스트증권은 COM 형태와 dll 형태로 사용할 수 있는 xingAPI를 제공합니다. Python에서 COM object를 사용하는 라이브러리를 사용하면 xingAPI를 사용할 수 있지만, 사용법이 깔끔하지 못합니다.</p>
<img src="/images/2021-01-syntactic-sugar.jpg" class="Put some sugar on that" width="500" title="Sugar">

<p>개인적으로 사용하기 위하여 설탕을 팍팍쳐서 모듈을 만들었습니다. 이 모듈을 사용하면, 코드가 다음과 같이 정리가 됩니다.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> ebest</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ebest.login()</span><br><span class="line">[*] 접속 서버 ((r)eal / (D)emo / (a)ce) : <span class="comment"># r</span></span><br><span class="line">[*] 아이디 : <span class="comment"># username</span></span><br><span class="line">[*] 패스워드 : <span class="comment"># password</span></span><br><span class="line">[*] 공인인증서 암호 : <span class="comment"># cert_password</span></span><br><span class="line">[*] 로그인 성공</span><br><span class="line"></span><br><span class="line"><span class="comment"># XAQuery 요청</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ebest.query(<span class="string">&#x27;t1101&#x27;</span>, <span class="built_in">dict</span>(shcode=<span class="string">&#x27;000020&#x27;</span>))</span><br><span class="line">&#123;<span class="string">&#x27;t1101OutBlock&#x27;</span>: &#123;<span class="string">&#x27;hname&#x27;</span>: <span class="string">&#x27;동화약품&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;price&#x27;</span>: <span class="number">19100</span>,</span><br><span class="line">  <span class="string">&#x27;sign&#x27;</span>: <span class="string">&#x27;5&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;change&#x27;</span>: <span class="number">550</span>,</span><br><span class="line">  <span class="comment"># ...</span></span><br><span class="line">  <span class="string">&#x27;open&#x27;</span>: <span class="number">19750</span>,</span><br><span class="line">  <span class="string">&#x27;high&#x27;</span>: <span class="number">19900</span>,</span><br><span class="line">  <span class="string">&#x27;low&#x27;</span>: <span class="number">18850</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># XAQuery 요청 후 DataFrame 형태로 변환</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>res = query(<span class="string">&#x27;t8413&#x27;</span>, <span class="built_in">dict</span>(</span><br><span class="line"><span class="meta">... </span>  shcode=<span class="string">&#x27;000020&#x27;</span>, sdate=<span class="string">&#x27;20200101&#x27;</span>, edate=<span class="string">&#x27;20210101&#x27;</span>,</span><br><span class="line"><span class="meta">... </span>  gubun=<span class="string">&#x27;2&#x27;</span>, qrycnt=<span class="number">2000</span>, cts_date=<span class="string">&#x27; &#x27;</span>, comp_yn=<span class="string">&#x27;Y&#x27;</span></span><br><span class="line"><span class="meta">... </span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pd.DataFrame(res.get(<span class="string">&#x27;t8413OutBlock1&#x27;</span>)).set_index(<span class="string">&#x27;date&#x27;</span>)</span><br><span class="line">           <span class="built_in">open</span>   high    low  close  ...  rate  pricechk  ratevalue  sign</span><br><span class="line">date                                  ...                                 </span><br><span class="line"><span class="number">20200102</span>   <span class="number">8340</span>   <span class="number">8400</span>   <span class="number">8290</span>   <span class="number">8400</span>  ...   <span class="number">0.0</span>         <span class="number">0</span>          <span class="number">0</span>     <span class="number">2</span></span><br><span class="line"><span class="number">20200103</span>   <span class="number">8400</span>   <span class="number">8450</span>   <span class="number">8290</span>   <span class="number">8360</span>  ...   <span class="number">0.0</span>         <span class="number">0</span>          <span class="number">0</span>     <span class="number">5</span></span><br><span class="line">         ...    ...    ...    ...  ...   ...       ...        ...   ...</span><br><span class="line"><span class="number">20201229</span>  <span class="number">18750</span>  <span class="number">19400</span>  <span class="number">18750</span>  <span class="number">19150</span>  ...   <span class="number">0.0</span>         <span class="number">0</span>          <span class="number">0</span>     <span class="number">2</span></span><br><span class="line"><span class="number">20201230</span>  <span class="number">19100</span>  <span class="number">19800</span>  <span class="number">18800</span>  <span class="number">19650</span>  ...   <span class="number">0.0</span>         <span class="number">0</span>          <span class="number">0</span>     <span class="number">2</span></span><br><span class="line">[<span class="number">248</span> rows x <span class="number">11</span> columns]</span><br><span class="line"></span><br><span class="line"><span class="comment"># XAReal 실시간 데이터 구독 후 callback function으로 처리</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nws = Realtime(<span class="string">&#x27;NWS&#x27;</span>, callback=<span class="built_in">print</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nws.subscribe(<span class="string">&#x27;NWS001&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Realtime.listen()</span><br><span class="line">NWS &#123;<span class="string">&#x27;date&#x27;</span>: <span class="string">&#x27;20210104&#x27;</span>, <span class="string">&#x27;time&#x27;</span>: <span class="string">&#x27;154734&#x27;</span>, <span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;[포토] 코로나19 직무 교육현장 참관&#x27;</span>&#125;</span><br><span class="line">NWS &#123;<span class="string">&#x27;date&#x27;</span>: <span class="string">&#x27;20210104&#x27;</span>, <span class="string">&#x27;time&#x27;</span>: <span class="string">&#x27;154752&#x27;</span>, <span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;전성배 신임원장, &quot;국가 디지털전환 선도&quot;&#x27;</span>&#125;</span><br><span class="line">NWS &#123;<span class="string">&#x27;date&#x27;</span>: <span class="string">&#x27;20210104&#x27;</span>, <span class="string">&#x27;time&#x27;</span>: <span class="string">&#x27;154750&#x27;</span>, <span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;[포토] 정총리, 코로나19 교육현장 참관&#x27;</span>&#125;</span><br><span class="line"><span class="comment"># ...</span></span><br></pre></td></tr></table></figure>

<p><a href="/assets/ebest.py">여기를 클릭</a>하시면 소스코드를 직접 확인하실 수 있고, 위 예시처럼 사용하실 수 있습니다. <strong>모듈을 어떻게 구현하였는지 궁금하신 경우</strong>, 모듈의 소스코드를 실행 순서별로 설명을 해 놓은 <strong>본 포스팅의 본문을 확인하시면 되겠습니다.</strong></p>
<p>개인적으로 사용하기 위해 구현한 코드인 관계로, 이런저런 문제점들이 많습니다. 😅 포스팅의 내용이나 소스에 개선이 필요한 경우, 피드백을 주시면 감사하겠습니다!</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/neat-xingapi-with-python/#more" rel="contents">
                더 읽어보기 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hwangheek.github.io/2020/pandas-custom-businessday-from-krx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hwanghee Kim">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ㅎㅎㅋ">
      <meta itemprop="description" content="ㅎㅎㅋ의 개인 연구실">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ㅎㅎㅋ">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/pandas-custom-businessday-from-krx/" class="post-title-link" itemprop="url">KRX의 휴장일 데이터를 기반으로 Python pandas의 AbstractHolidayCalendar와 CustomBusinessDay 사용하기</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">작성일</span>

      <time title="Post created: 2020-10-28 12:13:26" itemprop="dateCreated datePublished" datetime="2020-10-28T12:13:26+09:00">2020-10-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Updated at: 2022-07-23 23:39:52" itemprop="dateModified" datetime="2022-07-23T23:39:52+09:00">2022-07-23</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/pandas-custom-businessday-from-krx/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/pandas-custom-businessday-from-krx/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="0-Introduction"><a href="#0-Introduction" class="headerlink" title="0. Introduction"></a>0. Introduction</h1><p>Python을 사용해서 금융 시계열 분석을 하다보면, datetime과 관련한 처리가 까다로운 경우가 많습니다. 대표적으로, 휴일 및 공휴일 등을 계산하는 경우가 있습니다. Python pandas 라이브러리에 business day 개념이 있기는 하지만 (기본적으로는) 주말을 제외한 공휴일을 제대로 고려하지 못합니다.</p>
<img src="/images/2020-10-say-datetime-one-more-time.jpg" class="datetime anger" width="500" title="datetime anger">

<p>조금 찾아보니, pandas에서 이러한 문제를 관리할 수 있는 방법이 있었습니다. 본 포스팅은 해당 내용을 공부하며 정리한 글 입니다. 글의 내용 중 잘못 된 부분이 있는 경우, 피드백을 주시면 감사하겠습니다. :)</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/pandas-custom-businessday-from-krx/#more" rel="contents">
                더 읽어보기 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hwangheek.github.io/2020/pandas-tick-data/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hwanghee Kim">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ㅎㅎㅋ">
      <meta itemprop="description" content="ㅎㅎㅋ의 개인 연구실">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ㅎㅎㅋ">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/pandas-tick-data/" class="post-title-link" itemprop="url">Pandas를 이용하여 틱데이터 가공하기</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">작성일</span>

      <time title="Post created: 2020-04-20 13:34:30" itemprop="dateCreated datePublished" datetime="2020-04-20T13:34:30+09:00">2020-04-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Updated at: 2022-07-23 23:39:52" itemprop="dateModified" datetime="2022-07-23T23:39:52+09:00">2022-07-23</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/pandas-tick-data/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/pandas-tick-data/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="0-Introduction"><a href="#0-Introduction" class="headerlink" title="0. Introduction"></a>0. Introduction</h1><p>체결 데이터(틱데이터)를 사용할 때, 데이터가 지나치게 raw해서 생기는 난감한 부분들이 많습니다. 이를 해결하기 위해 “분봉”이나 “일봉”처럼, 일정한 시간을 기준으로 체결내역을 grouping하는 전처리 방법이 가장 많이 사용되는 것 같습니다. 이러한 방법의 장단점은 무엇일까요? 혹시 다른 방법은 없을까요? 어떻게 구현을 해야 할까요?</p>
<p><strong>Marcos Lopez de Prado의 저서 <em>Advances in Financial Machine Learning</em></strong>에 위 질문들에 대한 답변이 정리가 잘 되어있습니다. <strong>이번 포스팅은 해당 서적의 “2.3 Financial Data Structures: Bars” 챕터를 공부하며 이해한 내용을 정리한 내용입니다.</strong> 워낙 유명한 저서인지라, 책의 내용에 대한 구현을 정리해놓은 <a target="_blank" rel="noopener" href="https://github.com/hudson-and-thames/mlfinlab">github repo</a>도 있습니다. 다만, 모듈화를 위해 로직이 흩어져있어서 이해하기가 쉽지 않아, Python pandas를 사용하여 직접 구현을 해보았습니다.</p>
<p>포스팅의 내용 혹은 코드에 개선이 필요한 경우, 피드백을 주시면 감사하겠습니다. :)</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/pandas-tick-data/#more" rel="contents">
                더 읽어보기 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hwangheek.github.io/2019/python-logging/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hwanghee Kim">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ㅎㅎㅋ">
      <meta itemprop="description" content="ㅎㅎㅋ의 개인 연구실">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ㅎㅎㅋ">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/python-logging/" class="post-title-link" itemprop="url">조금 더 체계적인 Python Logging</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">작성일</span>

      <time title="Post created: 2019-03-12 22:12:28" itemprop="dateCreated datePublished" datetime="2019-03-12T22:12:28+09:00">2019-03-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Updated at: 2022-07-23 23:39:52" itemprop="dateModified" datetime="2022-07-23T23:39:52+09:00">2022-07-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/python-logging/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/python-logging/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Python으로 코드를 짤 때, 로그를 띄우는 방법으로 <code>print(&#39;[*] Message&#39;)</code>를 정말 많이 써 왔습니다. 군더더기 없고, 유연하고, dependency 없이 아무 위치에나 넣을 수 있다는 점이 좋았습니다. ‘좋았다’ 보다는 ‘편했다’ 혹은 ‘귀찮았다’가 더 적절한 것 같습니다. 혼자서 사용하는 프로그램을 짤 때는 exception 처리나 로그 처리에 신경을 쓰지 않아도 문제가 없었기 때문인 것 같습니다.</p>
<p>이러한 방법은 문제가 많이 있습니다. 중요도에 따라서 로그를 분류할 수도 없을 뿐더러, 코드를 수정하지 않는 이상 로그를 컨트롤 할 수도 없습니다. 정말로 print 되어야 하는 내용과 로그가 뒤섞여 버려서 화면이 지저분해지는 것도 문제입니다. <em>(Fang’s coding note)</em> 가끔은 조용히 프로그램을 돌리고 싶을 때도 있고, 가끔은 verbose 해지고 싶어질 때도 있잖아요?</p>
<img src="/images/2019-03-morpheus_logging.jpg" class="" width="500" title="Better Logging">

<p><strong>Python에서는 <code>logging</code> 모듈을 기본적으로 제공합니다.</strong> 이제 <code>print(&#39;[*] ...&#39;)</code>만 사용하지 말고, <code>logging</code> 모듈을 통해 멋지고 깔끔한 로깅을 해봅시다. 이번 포스트를 통해 Python에서 제공하는 <code>logging</code> 모듈을 어떻게 사용하는지 알아보도록 하겠습니다. 또한, ‘좋은 로그 처리 방법’이 어떤 성질을 지니고 있을 지에 대한 고민도 해보겠습니다.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/python-logging/#more" rel="contents">
                더 읽어보기 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hwangheek.github.io/2019/asynchronous-python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hwanghee Kim">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ㅎㅎㅋ">
      <meta itemprop="description" content="ㅎㅎㅋ의 개인 연구실">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ㅎㅎㅋ">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/asynchronous-python/" class="post-title-link" itemprop="url">비동기적으로 Python 다루기</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">작성일</span>

      <time title="Post created: 2019-02-05 06:05:38" itemprop="dateCreated datePublished" datetime="2019-02-05T06:05:38+09:00">2019-02-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Updated at: 2022-08-08 14:56:40" itemprop="dateModified" datetime="2022-08-08T14:56:40+09:00">2022-08-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2019/asynchronous-python/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/asynchronous-python/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="0-안녕-비동기"><a href="#0-안녕-비동기" class="headerlink" title="0. 안녕, 비동기!"></a>0. 안녕, 비동기!</h1><p>Python으로 동시다발적 HTTP 요청을 보내는 작업을 해야할 필요가 생겼습니다. Python 3에서 asynchronous한 작업을 처리하기가 수월해졌다는 이야기를 어디서 들은 것 같아서 구글링을 간단히 해봤습니다…만 내용들이 이해하기가 쉽지 않았습니다. 이와 관련된 수 많은 용어들의 정의와 그 범위가 사람들마다 미묘하게 달랐기 때문입니다. 뿐만 아니라, ‘asynchronous’라는 용어 자체를 듣기만 해도 뭔가 어렵고 복잡하고 막연하게 두려운 느낌도 듭니다.</p>
<img src="/images/2019-02-why_so_async.png" class="" width="500" title="Async Everywhere">

<p>하루 날을 잡고 asynchronous python과 관련된 자료들을 왕창 읽어보았습니다. 이 글은 키워드 <strong>generator, coroutine, asyncio</strong>와 신택스 <strong><code>yield</code>, <code>yield from</code>, <code>async</code>, <code>await</code></strong> 에 대한 이해가 없던 제가, 나름대로 이해를 하는 과정을 기록한 것입니다. <strong>혹시나 제가 잘못 이해하고 있는 부분이 있으면 말씀해주시면 감사하겠습니다</strong>.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/asynchronous-python/#more" rel="contents">
                더 읽어보기 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hwanghee Kim</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"blog-w5rrs5lidd","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>
